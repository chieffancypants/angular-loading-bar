/*! 
 * angular-loading-bar v0.0.1
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2013 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("chieffancypants.loadingBar",[]).config(["$httpProvider",function(a){var b=["$q","cfpLoadingBar",function(a,b){function c(){b.complete(),f=0,e=0}function d(a){var b=void 0!==a.cache&&void 0!==a.cache.get(a.url);return void 0!==a.cached&&b!=a.cached?a.cached:(a.cached=b,b)}var e=0,f=0;return{request:function(a){return d(a)||(0===e&&b.start(),e++),a},response:function(a){return d(a.config)||(f++,f===e?c():b.set(f/e)),a},responseError:function(g){return d(g.config)||(f++,f===e?c():b.set(f/e)),a.reject(g)}}}];a.interceptors.push(b)}]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.$get=["$document","$timeout","$animate",function(a,b,c){function d(){n=!0,c.enter(k,j),p&&c.enter(m,j),e(.02)}function e(a){if(n){var c=100*a+"%";l.css("width",c),o=a,b.cancel(i),i=b(function(){f()},250)}}function f(){if(!(g()>=1)){var a=0,b=g();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.97>b?.005:0;var c=g()+a;e(c)}}function g(){return o}function h(){e(1),b(function(){c.leave(k,function(){o=0,n=!1}),c.leave(m)},500)}var i,j=a.find("body"),k=angular.element('<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>'),l=k.find("div").eq(0),m=angular.element('<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>'),n=!1,o=0,p=this.includeSpinner;return{start:d,set:e,status:g,complete:h,includeSpinner:this.includeSpinner}}]})}();